---
layout: default
---
{% raw %}
{% assign tags = "all" %}
// 设置变量, 这里用all来表示默认的第一个tag, 代表全部tags的情况
{% for post in site.posts %}
    // 取所有的post出来逐一判定, 这里未来post很多的话, 会进行数量限制, 目前数量太少, 就糙着用啦
    {% for tag in post.tags %}
        // 取post自己的tags出来, 逐一进行判定是否已经在tags数组列表中了
        {% unless tags contains tag %}
            // 为了去掉重复的tag~
            {% capture tags %}{{ tags }}|{{ tag }}{% endcapture %}
            // 把所有不在tags数组中的tag都加到tags中
        {% endunless %}
    {% endfor %}
{% endfor %}
{% assign alltags = tags | split: '|' %}
// 生成一个新的数组, 似乎本身liquid中没有直接append数组的方法... 看到此处的朋友有知道的请不吝告知~
<ul class="tags">
{% for tag in alltags %}
// 展现tag
<a href="javascript:;" data-rel="{{ tag }}" class="filter tag {% if tag == 'all'  %}active{% endif %}" >{{ tag }}</a>
// 这里的data-rel是为了筛选做的准备, 后文会介绍
{% endfor %}
</ul>
{% endraw %}
<ul>
    {% for post in paginator.posts %}
      <li>
          <h2><a href="{{ post.url | prepend: site.baseurl | replace: '//', '/' }}">{{ post.title }}</a></h2>
          <time datetime="{{ post.date | date_to_xmlschema }}">{{ post.date | date_to_string }}</time>
          <p>{{ post.content | strip_html | truncatewords:50 }}</p>
      </li>
    {% endfor %}
</ul>
